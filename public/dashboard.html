<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Dashboard | Inventarios</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
</head>

<body class="dashboard-page">

<header class="dashboard-header">
  <h1 class="title">ğŸ“Š Panel de Control</h1>
  <p class="subtitle">GestiÃ³n de inventarios</p>
</header>

<section class="dashboard-grid">

  <div class="dashboard-card" data-link="/inventario.html">
    <div class="icon">ğŸ“¦</div>
    <h2>Inventario</h2>
    <p>Control de productos</p>
  </div>

  <div class="dashboard-card" data-link="/catalogo.html">
    <div class="icon">ğŸ“š</div>
    <h2>CatÃ¡logo</h2>
    <p>Lista de productos</p>
  </div>

  <div class="dashboard-card" data-link="/entradas.html">
    <div class="icon">â¬‡ï¸</div>
    <h2>Entradas</h2>
    <p>Ingreso de mercancÃ­a</p>
  </div>

  <div class="dashboard-card" data-link="/salidas.html">
    <div class="icon">â¬†ï¸</div>
    <h2>Salidas</h2>
    <p>Salida de productos</p>
  </div>

  <div class="dashboard-card admin-only" data-link="/admin-usuarios.html">
    <div class="icon">ğŸ§‘â€ğŸ’¼</div>
    <h2>Usuarios</h2>
    <p>AdministraciÃ³n</p>
  </div>

</section>

<script>
/* CLICK EN CARD */
document.querySelectorAll('.dashboard-card').forEach(card => {
  card.addEventListener('click', () => {
    const link = card.dataset.link;
    if (link) window.location.href = link;
  });
});

/* CONTROL ADMIN */
fetch('/session-info')
  .then(res => res.json())
  .then(data => {
    if (!data.logged || data.rol !== 'admin') {
      document.querySelectorAll('.admin-only')
        .forEach(card => card.style.display = 'none');
    }
  });
</script>

</body>
</html>
